gtest_main.cc
[==========] Running 7 tests from 3 test suites.
[----------] Global test environment set-up.
[----------] 3 tests from ExtractNomTest
[ RUN      ] ExtractNomTest.ReadsIntegers
[       OK ] ExtractNomTest.ReadsIntegers (0 ms)
[ RUN      ] ExtractNomTest.ReadsFloats
[       OK ] ExtractNomTest.ReadsFloats (0 ms)
[ RUN      ] ExtractNomTest.NoNumbers
[       OK ] ExtractNomTest.NoNumbers (0 ms)
[----------] 3 tests from ExtractNomTest (0 ms total)

[----------] 1 test from ArefSumTest
[ RUN      ] ArefSumTest.ArithmeticMean
[       OK ] ArefSumTest.ArithmeticMean (0 ms)
[----------] 1 test from ArefSumTest (0 ms total)

[----------] 3 tests from GeomSumTest
[ RUN      ] GeomSumTest.GeometricMean
[       OK ] GeomSumTest.GeometricMean (0 ms)
[ RUN      ] GeomSumTest.NegativeValuesReturnMinusOne
[       OK ] GeomSumTest.NegativeValuesReturnMinusOne (0 ms)
[ RUN      ] GeomSumTest.ZeroReturnsMinusOne
[       OK ] GeomSumTest.ZeroReturnsMinusOne (0 ms)
[----------] 3 tests from GeomSumTest (0 ms total)

[----------] Global test environment tear-down
[==========] 7 tests from 3 test suites ran. (0 ms total)
[  PASSED  ] 7 tests.
admin@MacBook-Air-admin-2 proof11 % cat test_extract.cpp
#include "lab_extract.h"
#include <gtest/gtest.h>

TEST(ExtractNomTest, ReadsIntegers) {
    double a[10];
    int n = extractNom("12 abc 34 def 56", a);
    ASSERT_EQ(n, 3);
    EXPECT_DOUBLE_EQ(a[0], 12);
    EXPECT_DOUBLE_EQ(a[1], 34);
    EXPECT_DOUBLE_EQ(a[2], 56);
}

TEST(ExtractNomTest, ReadsFloats) {
    double a[10];
    int n = extractNom("3.14 and -2.5 test 0.01", a);
    ASSERT_EQ(n, 3);
    EXPECT_DOUBLE_EQ(a[0], 3.14);
    EXPECT_DOUBLE_EQ(a[1], -2.5);
    EXPECT_DOUBLE_EQ(a[2], 0.01);
}

TEST(ExtractNomTest, NoNumbers) {
    double a[10];
    int n = extractNom("abc def ghi", a);
    EXPECT_EQ(n, 0);
}

TEST(ArefSumTest, ArithmeticMean) {
    double a[] = {2, 4, 6};
    EXPECT_DOUBLE_EQ(arefSum(a, 3), 4.0);
}

TEST(GeomSumTest, GeometricMean) {
    double a[] = {2, 8};
    EXPECT_DOUBLE_EQ(geomSum(a, 2), 4.0); // sqrt(16)
}

TEST(GeomSumTest, NegativeValuesReturnMinusOne) {
    double a[] = {2, -3, 4};
    EXPECT_DOUBLE_EQ(geomSum(a, 3), -1);
}

TEST(GeomSumTest, ZeroReturnsMinusOne) {
    double a[] = {0, 2, 3};
    EXPECT_DOUBLE_EQ(geomSum(a, 3), -1);
}

admin@MacBook-Air-admin-2 p
admin@MacBook-Air-admin-2 proof11 % 
